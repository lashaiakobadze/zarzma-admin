"use strict";(self.webpackChunkzarzma_admin=self.webpackChunkzarzma_admin||[]).push([[44],{1044:(Qe,y,s)=>{s.r(y),s.d(y,{AdminModule:()=>Ve});var M=s(8447),Z=s(4466),e=s(8256);let O=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin"]],decls:2,vars:0,consts:[[1,"admin-content"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[M.lC],changeDetection:0}),n})();var b=s(655),c=s(433),a=s(2856),d=s(8409),p=(()=>{return(n=p||(p={})).all="All",n.eparchy="\u10d4\u10de\u10d0\u10e0\u10e5\u10d8\u10d0",n.publication="\u10d2\u10d0\u10db\u10dd\u10ea\u10d4\u10db\u10d4\u10d1\u10d8",n.icons="\u10ee\u10d0\u10e2\u10d4\u10d1\u10d8",p;var n})(),C=s(7507),x=s(7579),m=s(8505),I=s(4004),_=(()=>{return(n=_||(_={}))[n.all=-1]="all",n[n.eparchy=1]="eparchy",n[n.publication=2]="publication",n[n.icons=3]="icons",_;var n})(),v=s(529),T=s(885);let w=(()=>{class n{constructor(t,o){this.http=t,this.loaderService=o,this.eparchyItems=[],this.eparchyItemsUpdated=new x.x,this.iconsItems=[],this.iconsItemsUpdated=new x.x,this.publicationsItems=[],this.publicationsItemsUpdated=new x.x}getEparchyItems(){return this.http.get(`articls/ArticleData?docType=${_.eparchy}`).pipe(this.loaderService.useLoader,(0,m.b)(t=>{this.eparchyItems=t,this.eparchyItemsUpdated.next([...this.eparchyItems])}))}getEparchyItemsListener(){return this.eparchyItemsUpdated.asObservable()}getIconsItems(){return this.http.get(`articls/ArticleData?docType=${_.icons}`).pipe(this.loaderService.useLoader,(0,m.b)(t=>{this.iconsItems=t,this.iconsItemsUpdated.next([...this.iconsItems])}))}getIconsItemsListener(){return this.iconsItemsUpdated.asObservable()}getPublicationsItems(){return this.http.get(`articls/ArticleData?docType=${_.publication}`).pipe(this.loaderService.useLoader,(0,m.b)(t=>{this.publicationsItems=t,this.publicationsItemsUpdated.next([...this.publicationsItems])}))}getPublicationsItemsListener(){return this.publicationsItemsUpdated.asObservable()}getFormData(t){const o=new FormData;return o.append("ID",t.get("id").value),o.append("DocType",t.get("docType").value),o.append("TitleGeo",t.get("TitleGeo").value),o.append("TextGeo",t.get("TextGeo").value),o.append("TitleEng",t.get("TitleEng").value),o.append("TextEng",t.get("TextEng").value),o.append("TitleRus",t.get("TitleRus").value),o.append("TextRus",t.get("TextRus").value),o.append("files",t.get("files").value),o}storeArticle(t){return this.http.post("Articls/AddArticle",t).pipe(this.loaderService.useLoader,(0,I.U)(o=>o.newArticle),(0,m.b)(o=>{switch(o.docTypeID){case _.eparchy:this.eparchyItems=[...this.eparchyItems,o],this.eparchyItemsUpdated.next([...this.eparchyItems]);break;case _.publication:this.publicationsItems=[...this.publicationsItems,o],this.publicationsItemsUpdated.next([...this.publicationsItems]);break;case _.icons:this.iconsItems=[...this.iconsItems,o],this.iconsItemsUpdated.next([...this.iconsItems])}}))}updateArticle(t){return this.http.post("Articls/UpdateArticle",t).pipe(this.loaderService.useLoader)}deleteArticle(t,o){return this.http.get(`Articls/DeleteArticle?ID=${t}`).pipe(this.loaderService.useLoader,(0,m.b)(()=>{switch(o){case p.eparchy:{const r=this.eparchyItems.filter(l=>l.id!==t);this.eparchyItems=r,this.eparchyItemsUpdated.next([...this.eparchyItems]);break}case p.publication:{const r=this.publicationsItems.filter(l=>l.id!==t);this.publicationsItems=r,this.publicationsItemsUpdated.next([...this.publicationsItems]);break}case p.icons:{const r=this.iconsItems.filter(l=>l.id!==t);this.iconsItems=r,this.iconsItemsUpdated.next([...this.iconsItems]);break}}}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.eN),e.LFG(T.D))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=s(6895),A=s(348),k=s(7533),N=s(2340);let U=(()=>{class n{constructor(t,o){this.el=t,this.platformId=o,this.uiDeferShow=new e.vpe,this.uiDeferHide=new e.vpe,this.checkForIntersection=r=>{r.forEach(l=>{this.checkIfIntersecting(l)?this.uiDeferShow.emit():this.uiDeferHide.emit()})}}checkIfIntersecting(t){return t.isIntersecting&&t.target===this.el.nativeElement}ngAfterViewInit(){(0,u.PM)(this.platformId)||(this.observer=new IntersectionObserver(o=>{this.checkForIntersection(o)},{rootMargin:"1000px 0px 100px 0px",threshold:0}),this.observer.observe(this.el.nativeElement))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Lbi))},n.\u0275dir=e.lG2({type:n,selectors:[["","uiDefer",""]],outputs:{uiDeferShow:"uiDeferShow",uiDeferHide:"uiDeferHide"}}),n})();function q(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function F(n,i){if(1&n&&(e.ynx(0),e.YNc(1,q,2,1,"span",28),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",!0!==t)}}function E(n,i){if(1&n&&(e.TgZ(0,"p",30),e.YNc(1,F,2,1,"ng-container",31),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.errors("TitleGeo"))}}function J(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function D(n,i){if(1&n&&(e.ynx(0),e.YNc(1,J,2,1,"span",28),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",!0!==t)}}function G(n,i){if(1&n&&(e.TgZ(0,"p",30),e.YNc(1,D,2,1,"ng-container",31),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.errors("TextGeo"))}}function V(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function Q(n,i){if(1&n&&(e.ynx(0),e.YNc(1,V,2,1,"span",28),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",!0!==t)}}function Y(n,i){if(1&n&&(e.TgZ(0,"p",30),e.YNc(1,Q,2,1,"ng-container",31),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.errors("files"))}}function S(n,i){if(1&n&&(e.TgZ(0,"div",32),e._UZ(1,"img",33),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.imagePreview,e.LSH)("alt",t.articleItemForm.value.TitleGeo)}}function L(n,i){if(1&n&&e._UZ(0,"img",37),2&n){const t=e.oxw(2);e.Q6J("alt",t.articleItem.title)}}const R=function(n){return{"is-loaded":n}};function j(n,i){if(1&n&&e._UZ(0,"img",38),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(3,R,t.renderImage))("src",t.BASE_URL+(null==t.articleItem?null:t.articleItem.photoUrl),e.LSH)("alt",t.articleItem.title)}}function $(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",34),e.NdJ("uiDeferShow",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.renderImage=!0)}),e.YNc(1,L,1,1,"img",35),e.YNc(2,j,1,5,"img",36),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.renderImage),e.xp6(1),e.Q6J("ngIf",t.renderImage)}}function z(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.articleError)}}let H=(()=>{class n{constructor(t,o){this.ref=t,this.platformId=o,this.BASE_URL=N.N.dataUrl,this.renderImage=(0,u.PM)(this.platformId),this.updateArticleItemClicked=new e.vpe,this.deleteArticleItemClicked=new e.vpe,this.articleError=null}ngOnInit(){switch(this.initForm(this.articleItem),this.articleItem?.docType){case p.eparchy:this.document_type=p.eparchy;break;case p.icons:this.document_type=p.icons;break;case p.publication:this.document_type=p.publication;break;default:this.document_type=p.all}}onImagePicked(t){const o=t.target.files[0];this.articleItemForm.patchValue({files:o}),this.articleItemForm.get("files").updateValueAndValidity();const r=new FileReader;r.onload=()=>{this.imagePreview=r.result,this.ref.markForCheck()},r.readAsDataURL(o)}onUpdateArticleItem(){this.articleItemForm.valid?(this.articleError=null,this.updateArticleItemClicked.emit(this.articleItemForm)):this.articleError=C.X.articlePanelError}onDeleteArticleItem(t){window.confirm("\u10dc\u10d0\u10db\u10d3\u10d5\u10d8\u10da\u10d0\u10d3 \u10d2\u10e1\u10e3\u10e0\u10d7 \u10ec\u10d0\u10e8\u10da\u10d0?")&&this.deleteArticleItemClicked.emit({id:t,documentType:this.document_type})}errors(t){return Object.values(this.get(t).errors)}get(t){return this.articleItemForm.get(t)}initForm(t){this.articleItemForm=new c.cw({id:new c.NI(t?.id,d.m.required),docType:new c.NI(t?.docType,d.m.required),TitleGeo:new c.NI(t?.title,d.m.required),TextGeo:new c.NI(t?.text,d.m.required),TitleEng:new c.NI(t?.titleEng),TextEng:new c.NI(t?.textEng),TitleRus:new c.NI(t?.titleRus),TextRus:new c.NI(t?.textRus),files:new c.NI(t?.photoUrl,d.m.required)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(e.Lbi))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-article-item"]],inputs:{articleItem:"articleItem",articleError:"articleError"},outputs:{updateArticleItemClicked:"updateArticleItemClicked",deleteArticleItemClicked:"deleteArticleItemClicked"},decls:49,vars:7,consts:[[1,"form",3,"formGroup"],[1,"form-control","visible"],["for","ID",1,"form-label"],["name","ID","formControlName","id","type","number",1,"input"],["for","docType",1,"form-label"],["name","docType","formControlName","docType",1,"input"],[1,"form-control"],["for","TitleGeo",1,"form-label"],["type","text","name","TitleGeo","placeholder","Publication TitleGeo","formControlName","TitleGeo",1,"input"],["class","required",4,"ngIf"],["for","TextGeo",1,"form-label"],["type","text","name","TextGeo","placeholder","TextGeo content","formControlName","TextGeo",1,"input"],["for","TitleEng",1,"form-label"],["type","text","name","TitleEng","placeholder","Publication TitleEng","formControlName","TitleEng",1,"input"],["for","TextEng",1,"form-label"],["type","text","name","TextEng","placeholder","TextEng content","formControlName","TextEng",1,"input"],["for","TitleRus",1,"form-label"],["type","text","name","TitleRus","placeholder","Publication TitleRus","formControlName","TitleRus",1,"input"],["for","TextRus",1,"form-label"],["type","text","name","TextRus","placeholder","TextRus content","formControlName","TextRus",1,"input"],[1,"form-control","form-control--file"],["type","button",1,"file-btn","btn","button",3,"click"],["type","file","name","files",3,"change"],["filePicker",""],["class","image-preview form-control form-control--file",4,"ngIf"],["class","image-preview form-control form-control--file","uiDefer","",3,"uiDeferShow",4,"ngIf"],["type","submit",1,"button","update",3,"click"],[1,"required","error"],[4,"ngIf"],["type","submit",1,"button","delete",3,"click"],[1,"required"],[4,"ngFor","ngForOf"],[1,"image-preview","form-control","form-control--file"],[3,"src","alt"],["uiDefer","",1,"image-preview","form-control","form-control--file",3,"uiDeferShow"],["class","panel-img","src","assets/add_box_white_24dp.svg",3,"alt",4,"ngIf"],["class","panel-img",3,"ngClass","src","alt",4,"ngIf"],["src","assets/add_box_white_24dp.svg",1,"panel-img",3,"alt"],[1,"panel-img",3,"ngClass","src","alt"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"form",0)(1,"div",1)(2,"label",2),e._uU(3,"ID"),e.qZA(),e._UZ(4,"input",3),e.TgZ(5,"label",4),e._uU(6,"docType"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"TitleGeo"),e.qZA(),e._UZ(11,"input",8),e.YNc(12,E,2,1,"p",9),e.qZA(),e.TgZ(13,"div",6)(14,"label",10),e._uU(15,"TextGeo content"),e.qZA(),e._UZ(16,"textarea",11),e.YNc(17,G,2,1,"p",9),e.qZA(),e.TgZ(18,"div",6)(19,"label",12),e._uU(20,"TitleEng"),e.qZA(),e._UZ(21,"input",13),e.qZA(),e.TgZ(22,"div",6)(23,"label",14),e._uU(24,"TextEng content"),e.qZA(),e._UZ(25,"textarea",15),e.qZA(),e.TgZ(26,"div",6)(27,"label",16),e._uU(28,"TitleRus"),e.qZA(),e._UZ(29,"input",17),e.qZA(),e.TgZ(30,"div",6)(31,"label",18),e._uU(32,"TextRus content"),e.qZA(),e._UZ(33,"textarea",19),e.qZA(),e.TgZ(34,"div",20)(35,"button",21),e.NdJ("click",function(){e.CHM(r);const P=e.MAs(38);return e.KtG(P.click())}),e._uU(36," Pick Image "),e.qZA(),e.TgZ(37,"input",22,23),e.NdJ("change",function(P){return o.onImagePicked(P)}),e.qZA(),e.YNc(39,Y,2,1,"p",9),e.qZA(),e.YNc(40,S,2,2,"div",24),e.YNc(41,$,3,2,"div",25),e.TgZ(42,"div",6)(43,"button",26),e.NdJ("click",function(){return o.onUpdateArticleItem()}),e._uU(44,"Update"),e.qZA(),e.TgZ(45,"p",27),e.YNc(46,z,2,1,"span",28),e.qZA(),e.TgZ(47,"button",29),e.NdJ("click",function(){return o.onDeleteArticleItem(+o.articleItem.id)}),e._uU(48,"Delete"),e.qZA()()()}2&t&&(e.Q6J("formGroup",o.articleItemForm),e.xp6(12),e.Q6J("ngIf",o.get("TitleGeo").invalid&&o.get("TitleGeo").touched),e.xp6(5),e.Q6J("ngIf",o.get("TextGeo").invalid&&o.get("TextGeo").touched),e.xp6(22),e.Q6J("ngIf",o.get("files").invalid&&o.get("files").touched),e.xp6(1),e.Q6J("ngIf",""!==o.imagePreview&&o.imagePreview&&o.articleItemForm.get("files").valid),e.xp6(1),e.Q6J("ngIf",!(""!==o.imagePreview&&o.imagePreview&&o.articleItemForm.get("files").valid)&&(null==o.articleItem?null:o.articleItem.photoUrl)),e.xp6(5),e.Q6J("ngIf",o.articleError))},dependencies:[u.mk,u.sg,u.O5,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,U],styles:[".form[_ngcontent-%COMP%]{transition:background-color .3s}.form[_ngcontent-%COMP%]:hover{background-color:#000}input[type=file][_ngcontent-%COMP%]{visibility:hidden}.image-preview[_ngcontent-%COMP%]{width:100%;margin:0 10px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px;width:300px}.panel-img[_ngcontent-%COMP%]{background-color:#0000004d;width:250px;height:250px;background-size:cover;filter:blur(3px)}.panel-img.is-loaded[_ngcontent-%COMP%]{filter:none;transition:filter 1s}.form-control[_ngcontent-%COMP%]{width:100%;align-items:center}.form-control--file[_ngcontent-%COMP%]{margin:0 20px;justify-content:flex-start;align-items:center}.file-btn[_ngcontent-%COMP%]{color:#fff;background-color:#4f4f4f;padding:5px;cursor:pointer;margin:0}.error[_ngcontent-%COMP%]{min-height:20px;max-height:40px;width:100%;margin:auto}.button[_ngcontent-%COMP%]{width:50%}"],changeDetection:0}),n})();function B(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"option",28),e._uU(2),e.qZA(),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function K(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function X(n,i){if(1&n&&(e.ynx(0),e.YNc(1,K,2,1,"span",27),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",!0!==t)}}function W(n,i){if(1&n&&(e.TgZ(0,"p",26),e.YNc(1,X,2,1,"ng-container",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.errors("DocType"))}}function ee(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function te(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ee,2,1,"span",27),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",!0!==t)}}function ne(n,i){if(1&n&&(e.TgZ(0,"p",26),e.YNc(1,te,2,1,"ng-container",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.errors("TitleGeo"))}}function ie(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function oe(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ie,2,1,"span",27),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",!0!==t)}}function re(n,i){if(1&n&&(e.TgZ(0,"p",26),e.YNc(1,oe,2,1,"ng-container",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.errors("TextGeo"))}}function ce(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.articlePanelError)}}function le(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",6),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onAddArticle())}),e.TgZ(1,"div",7)(2,"label",8),e._uU(3,"Choose DocType"),e.qZA(),e.TgZ(4,"select",9),e.YNc(5,B,3,2,"ng-container",10),e.qZA(),e.YNc(6,W,2,1,"p",11),e.qZA(),e.TgZ(7,"div",7)(8,"label",12),e._uU(9,"TitleGeo"),e.qZA(),e._UZ(10,"input",13),e.YNc(11,ne,2,1,"p",11),e.qZA(),e.TgZ(12,"div",7)(13,"label",14),e._uU(14,"TextGeo content"),e.qZA(),e._UZ(15,"textarea",15),e.YNc(16,re,2,1,"p",11),e.qZA(),e.TgZ(17,"div",7)(18,"label",16),e._uU(19,"TitleEng"),e.qZA(),e._UZ(20,"input",17),e.qZA(),e.TgZ(21,"div",7)(22,"label",18),e._uU(23,"TextEng content"),e.qZA(),e._UZ(24,"textarea",19),e.qZA(),e.TgZ(25,"div",7)(26,"label",20),e._uU(27,"TitleRus"),e.qZA(),e._UZ(28,"input",21),e.qZA(),e.TgZ(29,"div",7)(30,"label",22),e._uU(31,"TextRus content"),e.qZA(),e._UZ(32,"textarea",23),e.qZA(),e.TgZ(33,"div",7)(34,"image-uploader",24),e.NdJ("fileEmitted",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.fileProcess(r))}),e.qZA()(),e.TgZ(35,"button",25),e._uU(36,"Add Article"),e.qZA(),e.TgZ(37,"p",26),e.YNc(38,ce,2,1,"span",27),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.articleForm),e.xp6(5),e.Q6J("ngForOf",t.DocTypes),e.xp6(1),e.Q6J("ngIf",t.get("DocType").invalid&&t.get("DocType").touched),e.xp6(5),e.Q6J("ngIf",t.get("TitleGeo").invalid&&t.get("TitleGeo").touched),e.xp6(5),e.Q6J("ngIf",t.get("TextGeo").invalid&&t.get("TextGeo").touched),e.xp6(18),e.Q6J("singleFile",!0)("activeColor","orangered")("baseColor","lightgray")("selectedFile",t.selectedFile),e.xp6(4),e.Q6J("ngIf",t.articlePanelError)}}function ae(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",29)(2,"button",30),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.formMode=!1)}),e._uU(3,"Work end"),e.qZA()()()}}function se(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"h3"),e._uU(2,"Add Article"),e.qZA(),e.TgZ(3,"app-plus",32),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onGetArticleForm())}),e.qZA()()}}function pe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-article-item",33),e.NdJ("deleteArticleItemClicked",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.onDeleteArticleItem(r))})("updateArticleItemClicked",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.onUpdateArticleItem(r))}),e.qZA()}2&n&&e.Q6J("articleItem",i.$implicit)}function de(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-article-item",33),e.NdJ("deleteArticleItemClicked",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.onDeleteArticleItem(r))})("updateArticleItemClicked",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.onUpdateArticleItem(r))}),e.qZA()}2&n&&e.Q6J("articleItem",i.$implicit)}function me(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-article-item",33),e.NdJ("deleteArticleItemClicked",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.onDeleteArticleItem(r))})("updateArticleItemClicked",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.onUpdateArticleItem(r))}),e.qZA()}2&n&&e.Q6J("articleItem",i.$implicit)}let g=class{constructor(i,t){this.articleService=i,this.ref=t,this.eparchyItems=[],this.publicationsItems=[],this.iconsItems=[],this.DocTypes=[],this.formMode=!1,this.articlePanelError=null}ngOnInit(){this.DocTypes=[p.eparchy,p.publication,p.icons],this.articleService.getEparchyItems().pipe((0,a.t)(this)).subscribe(),this.articleService.getEparchyItemsListener().pipe((0,a.t)(this)).subscribe(i=>{this.eparchyItems=i,this.ref.markForCheck()}),this.articleService.getIconsItems().pipe((0,a.t)(this)).subscribe(),this.articleService.getIconsItemsListener().pipe((0,a.t)(this)).subscribe(i=>{this.iconsItems=i,this.ref.markForCheck()}),this.articleService.getPublicationsItems().pipe((0,a.t)(this)).subscribe(),this.articleService.getPublicationsItemsListener().pipe((0,a.t)(this)).subscribe(i=>{this.publicationsItems=i,this.ref.markForCheck()})}onGetArticleForm(){this.formMode=!0,this.initForm()}fileProcess(i){this.articleForm.value.files=[i],this.articleForm.patchValue({files:i}),this.articleForm.get("files").updateValueAndValidity(),this.selectedFile=i}onAddArticle(){if(!this.articleForm.valid)return void(this.articlePanelError=C.X.articlePanelError);const i=document.forms[0],t=new FormData(i);this.articleService.storeArticle(t).pipe((0,a.t)(this)).subscribe(()=>{this.articleForm.reset(),this.selectedFile=null,this.articlePanelError=null,this.ref.markForCheck()})}onUpdateArticleItem(i){const t=this.articleService.getFormData(i);this.articleService.updateArticle(t).pipe((0,a.t)(this)).subscribe(()=>this.ref.markForCheck())}onDeleteArticleItem(i){this.articleService.deleteArticle(i.id,i.documentType).pipe((0,a.t)(this)).subscribe()}errors(i){return Object.values(this.get(i).errors)}get(i){return this.articleForm.get(i)}initForm(){this.articleForm=new c.cw({DocType:new c.NI(null,d.m.required),TitleGeo:new c.NI(null,d.m.required),TitleRus:new c.NI(null),TitleEng:new c.NI(null),TextGeo:new c.NI(null,d.m.required),TextRus:new c.NI(null),TextEng:new c.NI(null),files:new c.NI(null)})}};g.\u0275fac=function(i){return new(i||g)(e.Y36(w),e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-article-panel"]],decls:17,vars:6,consts:[["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf","ngIfElse"],["plus",""],[1,"panel"],[1,"panel_item"],[3,"articleItem","deleteArticleItemClicked","updateArticleItemClicked",4,"ngFor","ngForOf"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-control"],["for","DocType",1,"form-label"],["type","text","name","DocType","formControlName","DocType",1,"input"],[4,"ngFor","ngForOf"],["class","required",4,"ngIf"],["for","TitleGeo",1,"form-label"],["type","text","name","TitleGeo","placeholder","Article TitleGeo","formControlName","TitleGeo",1,"input"],["for","TextGeo",1,"form-label"],["type","text","name","TextGeo","placeholder","TextGeo content","formControlName","TextGeo",1,"input"],["for","TitleEng",1,"form-label"],["type","text","name","TitleEng","placeholder","Publication TitleEng","formControlName","TitleEng",1,"input"],["for","TextEng",1,"form-label"],["type","text","name","TextEng","placeholder","TextEng content","formControlName","TextEng",1,"input"],["for","TitleRus",1,"form-label"],["type","text","name","TitleRus","placeholder","Publication TitleRus","formControlName","TitleRus",1,"input"],["for","TextRus",1,"form-label"],["type","text","name","TextRus","placeholder","TextRus content","formControlName","TextRus",1,"input"],[3,"singleFile","activeColor","baseColor","selectedFile","fileEmitted"],["type","submit",1,"button","update"],[1,"required"],[4,"ngIf"],[3,"value"],[1,"form"],[1,"button","delete",3,"click"],[1,"plus-btn"],[3,"click"],[3,"articleItem","deleteArticleItemClicked","updateArticleItemClicked"]],template:function(i,t){if(1&i&&(e.YNc(0,le,39,10,"form",0),e.YNc(1,ae,4,0,"div",1),e.YNc(2,se,4,0,"ng-template",null,2,e.W1O),e.TgZ(4,"div",3)(5,"div",4)(6,"h2"),e._uU(7,"Eparchy Items"),e.qZA(),e.YNc(8,pe,1,1,"app-article-item",5),e.qZA(),e.TgZ(9,"div",4)(10,"h2"),e._uU(11,"Publications Items"),e.qZA(),e.YNc(12,de,1,1,"app-article-item",5),e.qZA(),e.TgZ(13,"div",4)(14,"h2"),e._uU(15,"Icons Items"),e.qZA(),e.YNc(16,me,1,1,"app-article-item",5),e.qZA()()),2&i){const o=e.MAs(3);e.Q6J("ngIf",t.formMode),e.xp6(1),e.Q6J("ngIf",t.formMode)("ngIfElse",o),e.xp6(7),e.Q6J("ngForOf",t.eparchyItems),e.xp6(4),e.Q6J("ngForOf",t.publicationsItems),e.xp6(4),e.Q6J("ngForOf",t.iconsItems)}},dependencies:[u.sg,u.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.sg,c.u,A.w,k.$,H],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;outline:none;border:none;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{background-color:#181c21;overflow-x:auto;font-size:16px;font: .75rem/1.33333 Arial,sans-serif;color:#fff}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}a[_ngcontent-%COMP%]{text-decoration:none}.plus-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.panel-img[_ngcontent-%COMP%]{height:100px}.form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;border-bottom:1px solid red;padding:5px;margin:5px}.form[_ngcontent-%COMP%]   .ng-pristine.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.form-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-direction:column;margin:10px}.required[_ngcontent-%COMP%]{color:red}.form-label[_ngcontent-%COMP%]{font-size:1rem}.input[_ngcontent-%COMP%]{width:300px;border-radius:5px;margin:5px 0;padding:5px;font-size:.8rem}input[_ngcontent-%COMP%]:disabled{background-color:gray;color:#fff}.button[_ngcontent-%COMP%]{border-radius:5px;padding:5px;margin:5px 0;cursor:pointer}.delete[_ngcontent-%COMP%]{color:#ddd;background-color:#dd1313dc}.update[_ngcontent-%COMP%]{color:#ddd;background-color:#25b125e6}.visible[_ngcontent-%COMP%]{visibility:hidden;display:none}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}.panel[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-start;margin:20px}.form-control[_ngcontent-%COMP%]{width:100%;align-items:center}.panel_item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.plus-btn[_ngcontent-%COMP%]{margin-top:20px}.form[_ngcontent-%COMP%]{margin:10px}.button[_ngcontent-%COMP%]{width:max-content;padding:10px 20px;margin:10px}"],changeDetection:0}),g=(0,b.gn)([(0,a.c)()],g);let ue=(()=>{class n{constructor(t,o){this.http=t,this.loaderService=o,this.chantsItems=[],this.chantsItemsUpdated=new x.x}getChants(){return this.http.get("chants/ChantData").pipe(this.loaderService.useLoader,(0,m.b)(t=>{this.chantsItems=t,this.chantsItemsUpdated.next([...this.chantsItems])}))}getChantsItemsListener(){return this.chantsItemsUpdated.asObservable()}storeChant(t){return this.http.post("Chants/AddChant",t).pipe(this.loaderService.useLoader,(0,I.U)(o=>o.newChant),(0,m.b)(o=>{this.chantsItems=[...this.chantsItems,o],this.chantsItemsUpdated.next([...this.chantsItems])}))}deleteChant(t){return this.http.get(`Chants/DeleteChant?ID=${t}`).pipe(this.loaderService.useLoader,(0,m.b)(()=>{const o=this.chantsItems.filter(r=>r.id!==t);this.chantsItems=o,this.chantsItemsUpdated.next([...this.chantsItems])}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.eN),e.LFG(T.D))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_e=(()=>{class n{constructor(){this.deleteChantClicked=new e.vpe}ngOnInit(){}onDeleteChant(t){this.deleteChantClicked.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-chant-panel"]],inputs:{chant:"chant"},outputs:{deleteChantClicked:"deleteChantClicked"},decls:5,vars:1,consts:[[1,"chant"],[1,"center"],[1,"delete","button",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.onDeleteChant(o.chant.id)}),e._uU(4,"delete chant"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(o.chant.chantName))},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;outline:none;border:none;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{background-color:#181c21;overflow-x:auto;font-size:16px;font: .75rem/1.33333 Arial,sans-serif;color:#fff}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}a[_ngcontent-%COMP%]{text-decoration:none}.plus-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.panel-img[_ngcontent-%COMP%]{height:100px}.form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;border-bottom:1px solid red;padding:5px;margin:5px}.form[_ngcontent-%COMP%]   .ng-pristine.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.form-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-direction:column;margin:10px}.required[_ngcontent-%COMP%]{color:red}.form-label[_ngcontent-%COMP%]{font-size:1rem}.input[_ngcontent-%COMP%]{width:300px;border-radius:5px;margin:5px 0;padding:5px;font-size:.8rem}input[_ngcontent-%COMP%]:disabled{background-color:gray;color:#fff}.button[_ngcontent-%COMP%]{border-radius:5px;padding:5px;margin:5px 0;cursor:pointer}.delete[_ngcontent-%COMP%]{color:#ddd;background-color:#dd1313dc}.update[_ngcontent-%COMP%]{color:#ddd;background-color:#25b125e6}.visible[_ngcontent-%COMP%]{visibility:hidden;display:none}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]{width:100%}.chant[_ngcontent-%COMP%]{width:100%;padding:10px 20px;display:flex;justify-content:space-between;transition:background-color .3s}.chant[_ngcontent-%COMP%]:hover{background-color:#000}"],changeDetection:0}),n})();function ge(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function fe(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ge,2,1,"span",14),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",!0!==t)}}function he(n,i){if(1&n&&(e.TgZ(0,"p",13),e.YNc(1,fe,2,1,"ng-container",3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.errors("ChantName"))}}function xe(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function Ce(n,i){if(1&n&&(e.ynx(0),e.YNc(1,xe,2,1,"span",14),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",!0!==t)}}function be(n,i){if(1&n&&(e.TgZ(0,"p",13),e.YNc(1,Ce,2,1,"ng-container",3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.errors("AudioUrl"))}}function Ie(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.chantPanelError)}}function ve(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",4),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onAddChant())}),e.TgZ(1,"div",5)(2,"label",6),e._uU(3,"ChantName"),e.qZA(),e._UZ(4,"input",7),e.YNc(5,he,2,1,"p",8),e.qZA(),e.TgZ(6,"div",5)(7,"label",9),e._uU(8,"AudioUrl"),e.qZA(),e.TgZ(9,"input",10,11),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(10),l=e.oxw();return e.KtG(l.processFile(r))}),e.qZA(),e.YNc(11,be,2,1,"p",8),e.qZA(),e.TgZ(12,"button",12),e._uU(13,"Add Chant"),e.qZA(),e.TgZ(14,"p",13),e.YNc(15,Ie,2,1,"span",14),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.chantForm),e.xp6(5),e.Q6J("ngIf",t.get("ChantName").invalid&&t.get("ChantName").touched),e.xp6(6),e.Q6J("ngIf",t.get("AudioUrl").invalid&&t.get("AudioUrl").touched),e.xp6(4),e.Q6J("ngIf",t.chantPanelError)}}function Te(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",15)(2,"button",16),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.formMode=!1)}),e._uU(3,"Work end"),e.qZA()()()}}function Ae(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"h3"),e._uU(2,"Add Chant"),e.qZA(),e.TgZ(3,"app-plus",18),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onGetArticleForm())}),e.qZA()()}}function Pe(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-chant-panel",19),e.NdJ("deleteChantClicked",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.deleteChant(r))}),e.qZA(),e.BQk()}if(2&n){const t=i.$implicit;e.xp6(1),e.Q6J("chant",t)}}let f=class{constructor(i,t){this.chantService=i,this.ref=t,this.formMode=!1,this.chantsItems=[],this.chantPanelError=null}ngOnInit(){this.initForm(),this.chantService.getChants().pipe((0,a.t)(this)).subscribe(),this.chantService.getChantsItemsListener().pipe((0,a.t)(this)).subscribe(i=>{this.chantsItems=i,this.ref.markForCheck()})}onGetArticleForm(){this.formMode=!0}processFile(i){this.chantForm.value.files=[i.files[0]]}onAddChant(){if(!this.chantForm.valid)return void(this.chantPanelError=C.X.chantPanelError);this.chantPanelError=null;const i=document.forms[0],t=new FormData(i);this.chantService.storeChant(t).pipe((0,a.t)(this)).subscribe(()=>{this.chantPanelError=null,this.chantForm.reset(),this.ref.markForCheck()})}deleteChant(i){window.confirm("\u10dc\u10d0\u10db\u10d3\u10d5\u10d8\u10da\u10d0\u10d3 \u10d2\u10e1\u10e3\u10e0\u10d7 \u10ec\u10d0\u10e8\u10da\u10d0?")&&this.chantService.deleteChant(i).pipe((0,a.t)(this)).subscribe()}errors(i){return Object.values(this.get(i).errors)}get(i){return this.chantForm.get(i)}initForm(){this.chantForm=new c.cw({ChantName:new c.NI(null,d.m.required),AudioUrl:new c.NI(null,d.m.required)})}};f.\u0275fac=function(i){return new(i||f)(e.Y36(ue),e.Y36(e.sBO))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-chants-panel"]],decls:5,vars:4,consts:[["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf","ngIfElse"],["plus",""],[4,"ngFor","ngForOf"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-control"],["for","ChantName",1,"form-label"],["type","text","name","ChantName","placeholder","ChantName","formControlName","ChantName",1,"input"],["class","required",4,"ngIf"],["for","audio",1,"form-label"],["type","file","name","files","formControlName","AudioUrl",1,"input",3,"change"],["audioInput",""],["type","submit",1,"button","update"],[1,"required"],[4,"ngIf"],[1,"form"],[1,"button","delete",3,"click"],[1,"plus-btn"],[3,"click"],[3,"chant","deleteChantClicked"]],template:function(i,t){if(1&i&&(e.YNc(0,ve,16,4,"form",0),e.YNc(1,Te,4,0,"div",1),e.YNc(2,Ae,4,0,"ng-template",null,2,e.W1O),e.YNc(4,Pe,2,1,"ng-container",3)),2&i){const o=e.MAs(3);e.Q6J("ngIf",t.formMode),e.xp6(1),e.Q6J("ngIf",t.formMode)("ngIfElse",o),e.xp6(3),e.Q6J("ngForOf",t.chantsItems)}},dependencies:[u.sg,u.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,A.w,_e],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;outline:none;border:none;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{background-color:#181c21;overflow-x:auto;font-size:16px;font: .75rem/1.33333 Arial,sans-serif;color:#fff}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}a[_ngcontent-%COMP%]{text-decoration:none}.plus-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.panel-img[_ngcontent-%COMP%]{height:100px}.form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;border-bottom:1px solid red;padding:5px;margin:5px}.form[_ngcontent-%COMP%]   .ng-pristine.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.form-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-direction:column;margin:10px}.required[_ngcontent-%COMP%]{color:red}.form-label[_ngcontent-%COMP%]{font-size:1rem}.input[_ngcontent-%COMP%]{width:300px;border-radius:5px;margin:5px 0;padding:5px;font-size:.8rem}input[_ngcontent-%COMP%]:disabled{background-color:gray;color:#fff}.button[_ngcontent-%COMP%]{border-radius:5px;padding:5px;margin:5px 0;cursor:pointer}.delete[_ngcontent-%COMP%]{color:#ddd;background-color:#dd1313dc}.update[_ngcontent-%COMP%]{color:#ddd;background-color:#25b125e6}.visible[_ngcontent-%COMP%]{visibility:hidden;display:none}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:20px 50px}"],changeDetection:0}),f=(0,b.gn)([(0,a.c)()],f);class ye{constructor(i,t){this.Name=i,this.VideoURL=t}}let Me=(()=>{class n{constructor(t,o){this.http=t,this.loaderService=o,this.videoItems=[],this.videoItemsUpdated=new x.x}getVideosItems(){return this.http.get("Videos/VideoData").pipe(this.loaderService.useLoader,(0,m.b)(t=>{this.videoItems=t,this.videoItemsUpdated.next([...this.videoItems])}))}getVideoItemsListener(){return this.videoItemsUpdated.asObservable()}addVideo(t){return this.http.post("Videos/AddVideo",t).pipe(this.loaderService.useLoader,(0,I.U)(o=>o.newVideo),(0,m.b)(o=>{this.videoItems=[...this.videoItems,o],this.videoItemsUpdated.next([...this.videoItems])}))}deleteVideo(t){return this.http.get(`Videos/DeleteVideo?ID=${t}`).pipe(this.loaderService.useLoader,(0,m.b)(()=>{const o=this.videoItems.filter(r=>r.id!==t);this.videoItems=o,this.videoItemsUpdated.next([...this.videoItems])}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.eN),e.LFG(T.D))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ze=(()=>{class n{constructor(){this.deleteVideoClicked=new e.vpe}ngOnInit(){}deleteVideo(t){this.deleteVideoClicked.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-video-item"]],inputs:{video:"video"},outputs:{deleteVideoClicked:"deleteVideoClicked"},decls:7,vars:2,consts:[[1,"video"],[1,"center"],[1,"delete","button",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",1),e._uU(4),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return o.deleteVideo(o.video.id)}),e._uU(6,"delete video"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(o.video.name),e.xp6(2),e.Oqu(o.video.videoURL))},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;outline:none;border:none;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{background-color:#181c21;overflow-x:auto;font-size:16px;font: .75rem/1.33333 Arial,sans-serif;color:#fff}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}a[_ngcontent-%COMP%]{text-decoration:none}.plus-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.panel-img[_ngcontent-%COMP%]{height:100px}.form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;border-bottom:1px solid red;padding:5px;margin:5px}.form[_ngcontent-%COMP%]   .ng-pristine.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.form-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-direction:column;margin:10px}.required[_ngcontent-%COMP%]{color:red}.form-label[_ngcontent-%COMP%]{font-size:1rem}.input[_ngcontent-%COMP%]{width:300px;border-radius:5px;margin:5px 0;padding:5px;font-size:.8rem}input[_ngcontent-%COMP%]:disabled{background-color:gray;color:#fff}.button[_ngcontent-%COMP%]{border-radius:5px;padding:5px;margin:5px 0;cursor:pointer}.delete[_ngcontent-%COMP%]{color:#ddd;background-color:#dd1313dc}.update[_ngcontent-%COMP%]{color:#ddd;background-color:#25b125e6}.visible[_ngcontent-%COMP%]{visibility:hidden;display:none}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]{width:100%}.video[_ngcontent-%COMP%]{width:100%;padding:10px 20px;display:flex;justify-content:space-between;transition:background-color .3s}.video[_ngcontent-%COMP%]:hover{background-color:#000}"],changeDetection:0}),n})();function Oe(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function we(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Oe,2,1,"span",13),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",!0!==t)}}function ke(n,i){if(1&n&&(e.TgZ(0,"p",12),e.YNc(1,we,2,1,"ng-container",3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.errors("Name"))}}function Ne(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function Ue(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Ne,2,1,"span",13),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",!0!==t)}}function qe(n,i){if(1&n&&(e.TgZ(0,"p",12),e.YNc(1,Ue,2,1,"ng-container",3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.errors("VideoURL"))}}function Fe(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.videoPanelError)}}function Ee(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",4)(1,"div",5)(2,"label",6),e._uU(3,"Name"),e.qZA(),e._UZ(4,"input",7),e.YNc(5,ke,2,1,"p",8),e.qZA(),e.TgZ(6,"div",5)(7,"label",9),e._uU(8,"Video URL"),e.qZA(),e._UZ(9,"input",10),e.YNc(10,qe,2,1,"p",8),e.qZA(),e.TgZ(11,"button",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onAddVideo())}),e._uU(12,"Add Video"),e.qZA(),e.TgZ(13,"p",12),e.YNc(14,Fe,2,1,"span",13),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.videoForm),e.xp6(5),e.Q6J("ngIf",t.get("Name").invalid&&t.get("Name").touched),e.xp6(5),e.Q6J("ngIf",t.get("VideoURL").invalid&&t.get("VideoURL").touched),e.xp6(4),e.Q6J("ngIf",t.videoPanelError)}}function Je(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",14)(2,"button",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.formMode=!1)}),e._uU(3,"Work end"),e.qZA()()()}}function De(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"h3"),e._uU(2,"Add Video"),e.qZA(),e.TgZ(3,"app-plus",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onGetVideoForm())}),e.qZA()()}}function Ge(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-video-item",18),e.NdJ("deleteVideoClicked",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.onDeleteVideo(r))}),e.qZA(),e.BQk()}if(2&n){const t=i.$implicit;e.xp6(1),e.Q6J("video",t)}}let h=class{constructor(i,t){this.videoService=i,this.ref=t,this.videoItems=[],this.formMode=!1,this.videoPanelError=null}ngOnInit(){this.initForm(),this.videoService.getVideosItems().pipe((0,a.t)(this)).subscribe(),this.videoService.getVideoItemsListener().pipe((0,a.t)(this)).subscribe(i=>{this.videoItems=i,this.ref.markForCheck()})}onGetVideoForm(){this.formMode=!0}onAddVideo(){if(!this.videoForm.valid)return void(this.videoPanelError=C.X.videoPanelError);this.videoPanelError=null;const i=new ye(this.videoForm.value.Name,this.videoForm.value.VideoURL);this.videoService.addVideo(i).pipe((0,a.t)(this)).subscribe(()=>{this.videoPanelError=null,this.videoForm.reset(),this.ref.markForCheck()})}onDeleteVideo(i){window.confirm("\u10dc\u10d0\u10db\u10d3\u10d5\u10d8\u10da\u10d0\u10d3 \u10d2\u10e1\u10e3\u10e0\u10d7 \u10ec\u10d0\u10e8\u10da\u10d0?")&&this.videoService.deleteVideo(i).pipe((0,a.t)(this)).subscribe()}errors(i){return Object.values(this.get(i).errors)}get(i){return this.videoForm.get(i)}initForm(){this.videoForm=new c.cw({Name:new c.NI(null,d.m.required),VideoURL:new c.NI(null,d.m.required)})}};h.\u0275fac=function(i){return new(i||h)(e.Y36(Me),e.Y36(e.sBO))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-video"]],decls:5,vars:4,consts:[["class","form",3,"formGroup",4,"ngIf"],[4,"ngIf","ngIfElse"],["plus",""],[4,"ngFor","ngForOf"],[1,"form",3,"formGroup"],[1,"form-control"],["for","Name",1,"form-label"],["type","text","name","Name","placeholder","Name","formControlName","Name",1,"input"],["class","required",4,"ngIf"],["for","VideoURL",1,"form-label"],["type","text","name","VideoURL","placeholder","VideoURL","formControlName","VideoURL",1,"input"],["type","button",1,"button","update",3,"click"],[1,"required"],[4,"ngIf"],[1,"form"],[1,"button","delete",3,"click"],[1,"plus-btn"],[3,"click"],[3,"video","deleteVideoClicked"]],template:function(i,t){if(1&i&&(e.YNc(0,Ee,15,4,"form",0),e.YNc(1,Je,4,0,"div",1),e.YNc(2,De,4,0,"ng-template",null,2,e.W1O),e.YNc(4,Ge,2,1,"ng-container",3)),2&i){const o=e.MAs(3);e.Q6J("ngIf",t.formMode),e.xp6(1),e.Q6J("ngIf",t.formMode)("ngIfElse",o),e.xp6(3),e.Q6J("ngForOf",t.videoItems)}},dependencies:[u.sg,u.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,A.w,Ze],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;outline:none;border:none;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{background-color:#181c21;overflow-x:auto;font-size:16px;font: .75rem/1.33333 Arial,sans-serif;color:#fff}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}a[_ngcontent-%COMP%]{text-decoration:none}.plus-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.panel-img[_ngcontent-%COMP%]{height:100px}.form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;border-bottom:1px solid red;padding:5px;margin:5px}.form[_ngcontent-%COMP%]   .ng-pristine.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.form-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-direction:column;margin:10px}.required[_ngcontent-%COMP%]{color:red}.form-label[_ngcontent-%COMP%]{font-size:1rem}.input[_ngcontent-%COMP%]{width:300px;border-radius:5px;margin:5px 0;padding:5px;font-size:.8rem}input[_ngcontent-%COMP%]:disabled{background-color:gray;color:#fff}.button[_ngcontent-%COMP%]{border-radius:5px;padding:5px;margin:5px 0;cursor:pointer}.delete[_ngcontent-%COMP%]{color:#ddd;background-color:#dd1313dc}.update[_ngcontent-%COMP%]{color:#ddd;background-color:#25b125e6}.visible[_ngcontent-%COMP%]{visibility:hidden;display:none}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:20px 50px}"],changeDetection:0}),h=(0,b.gn)([(0,a.c)()],h);let Ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Z.m,M.Bz.forChild([{path:"",component:O,children:[{path:"",redirectTo:"articlePanel",pathMatch:"full"},{path:"articlePanel",component:g},{path:"chantsPanel",component:f},{path:"videoPanel",component:h}]}])]}),n})()}}]);