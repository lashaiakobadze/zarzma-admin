"use strict";(self.webpackChunkzarzma_admin=self.webpackChunkzarzma_admin||[]).push([[735],{5735:(b,c,r)=>{r.r(c),r.d(c,{AuthModule:()=>v});var g=r(655),i=r(433),u=r(2856),d=r(7507),a=r(8409);class f{constructor(o,e){this.username=o,this.password=e}}var n=r(8256),h=r(3702),m=r(8447),p=r(6895);function x(t,o){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Oqu(e)}}function C(t,o){if(1&t&&(n.ynx(0),n.YNc(1,x,2,1,"span",6),n.BQk()),2&t){const e=o.$implicit;n.xp6(1),n.Q6J("ngIf",!0!==e)}}function _(t,o){if(1&t&&(n.TgZ(0,"p",5),n.YNc(1,C,2,1,"ng-container",7),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.errors("username"))}}function M(t,o){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Oqu(e)}}function O(t,o){if(1&t&&(n.ynx(0),n.YNc(1,M,2,1,"span",6),n.BQk()),2&t){const e=o.$implicit;n.xp6(1),n.Q6J("ngIf",!0!==e)}}function A(t,o){if(1&t&&(n.TgZ(0,"p",5),n.YNc(1,O,2,1,"ng-container",7),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.errors("password"))}}function y(t,o){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Oqu(e.loginErrorMessage)}}let s=class{constructor(o,e,l){this.authService=o,this.route=e,this.ref=l,this.loginErrorMessage=null}ngOnInit(){this.initForm()}onLogin(){const o=new f(this.adminForm.value.username,this.adminForm.value.password);o&&this.adminForm.valid?this.authService.login(o.username,o.password).pipe((0,u.t)(this)).subscribe({error:e=>{console.log(e),this.ref.markForCheck()},complete:()=>{this.loginErrorMessage=null,this.ref.markForCheck()}}):this.loginErrorMessage=d.X.authError}errors(o){return Object.values(this.get(o).errors)}get(o){return this.adminForm.get(o)}initForm(){this.adminForm=new i.cw({username:new i.NI(null,[a.m.required,a.m.minLength(5)]),password:new i.NI(null,[a.m.required,a.m.minLength(5)])})}};s.\u0275fac=function(o){return new(o||s)(n.Y36(h.e),n.Y36(m.F0),n.Y36(n.sBO))},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-auth"]],decls:11,vars:4,consts:[[1,"form","form--auth",3,"formGroup","ngSubmit"],["formControlName","username","type","text","name","username","placeholder","username",1,"input"],["class","required",4,"ngIf"],["formControlName","password","type","password","name","password","placeholder","password",1,"input"],["type","submit",1,"button"],[1,"required"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(o,e){1&o&&(n.TgZ(0,"form",0),n.NdJ("ngSubmit",function(){return e.onLogin()}),n.TgZ(1,"h1"),n._uU(2,"Zarzma Admin"),n.qZA(),n._UZ(3,"input",1),n.YNc(4,_,2,1,"p",2),n._UZ(5,"input",3),n.YNc(6,A,2,1,"p",2),n.TgZ(7,"button",4),n._uU(8,"Log In"),n.qZA(),n.TgZ(9,"p",5),n.YNc(10,y,2,1,"span",6),n.qZA()()),2&o&&(n.Q6J("formGroup",e.adminForm),n.xp6(4),n.Q6J("ngIf",e.get("username").invalid&&e.get("username").touched),n.xp6(2),n.Q6J("ngIf",e.get("password").invalid&&e.get("password").touched),n.xp6(4),n.Q6J("ngIf",e.loginErrorMessage))},dependencies:[p.sg,p.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;outline:none;border:none;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{background-color:#181c21;overflow-x:auto;font-size:16px;font: .75rem/1.33333 Arial,sans-serif;color:#fff}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}a[_ngcontent-%COMP%]{text-decoration:none}.plus-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.panel-img[_ngcontent-%COMP%]{height:100px}.form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;border-bottom:1px solid red;padding:5px;margin:5px}.form[_ngcontent-%COMP%]   .ng-pristine.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.form-control[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-direction:column;margin:10px}.required[_ngcontent-%COMP%]{color:red}.form-label[_ngcontent-%COMP%]{font-size:1rem}.input[_ngcontent-%COMP%]{width:300px;border-radius:5px;margin:5px 0;padding:5px;font-size:.8rem}input[_ngcontent-%COMP%]:disabled{background-color:gray;color:#fff}.button[_ngcontent-%COMP%]{border-radius:5px;padding:5px;margin:5px 0;cursor:pointer}.delete[_ngcontent-%COMP%]{color:#ddd;background-color:#dd1313dc}.update[_ngcontent-%COMP%]{color:#ddd;background-color:#25b125e6}.visible[_ngcontent-%COMP%]{visibility:hidden;display:none}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.form--auth[_ngcontent-%COMP%]{margin-top:200px;width:50%}.required[_ngcontent-%COMP%]{height:15px}"],changeDetection:0}),s=(0,g.gn)([(0,u.c)()],s);var P=r(4466);let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[P.m,m.Bz.forChild([{path:"",component:s}])]}),t})()}}]);